!function(t){"function"==typeof define&&define.amd?define(t):window.purl=t()}((function(){function t(t,r){for(var e=decodeURI(t),a=c[r?"strict":"loose"].exec(e),o={attr:{},param:{},seg:{}},i=14;i--;)o.attr[f[i]]=a[i]||"";return o.param.query=n(o.attr.query),o.param.fragment=n(o.attr.fragment),o.seg.path=o.attr.path.replace(/^\/+|\/+$/g,"").split("/"),o.seg.fragment=o.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),o.attr.base=o.attr.host?(o.attr.protocol?o.attr.protocol+"://"+o.attr.host:o.attr.host)+(o.attr.port?":"+o.attr.port:""):"",o}function r(t,r){if(0===t[r].length)return t[r]={};var e={};for(var a in t[r])e[a]=t[r][a];return t[r]=e,e}function e(t,a,n,i){var s=t.shift();if(s){var f=a[n]=a[n]||[];"]"==s?o(f)?""!==i&&f.push(i):"object"==typeof f?f[function(t){var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push(e);return r}(f).length]=i:f=a[n]=[a[n],i]:~s.indexOf("]")?(s=s.substr(0,s.length-1),!h.test(s)&&o(f)&&(f=r(a,n)),e(t,f,s,i)):(!h.test(s)&&o(f)&&(f=r(a,n)),e(t,f,s,i))}else o(a[n])?a[n].push(i):a[n]="object"==typeof a[n]||void 0===a[n]?i:[a[n],i]}function a(t,r,a){if(~r.indexOf("]")){e(r.split("["),t,"base",a)}else{if(!h.test(r)&&o(t.base)){var n={};for(var i in t.base)n[i]=t.base[i];t.base=n}""!==r&&function(t,r,e){var a=t[r];void 0===a?t[r]=e:o(a)?a.push(e):t[r]=[a,e]}(t.base,r,a)}return t}function n(t){return function(t,r){for(var e=0,a=t.length>>0,n=arguments[2];a>e;)e in t&&(n=r.call(void 0,n,t[e],e,t)),++e;return n}(String(t).split(/&|;/),(function(t,r){try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(t){}var e=r.indexOf("="),n=function(t){for(var r,e,a=t.length,n=0;a>n;++n)if("]"==(e=t[n])&&(r=!1),"["==e&&(r=!0),"="==e&&!r)return n}(r),o=r.substr(0,n||e),i=r.substr(n||e,r.length);return i=i.substr(i.indexOf("=")+1,i.length),""===o&&(o=r,i=""),a(t,o,i)}),{base:{}}).base}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(r,e){return 1===arguments.length&&!0===r&&(e=!0,r=void 0),e=e||!1,{data:t(r=r||window.location.toString(),e),attr:function(t){return void 0!==(t=u[t]||t)?this.data.attr[t]:this.data.attr},param:function(t){return void 0!==t?this.data.param.query[t]:this.data.param.query},fparam:function(t){return void 0!==t?this.data.param.fragment[t]:this.data.param.fragment},segment:function(t){return void 0===t?this.data.seg.path:(t=0>t?this.data.seg.path.length+t:t-1,this.data.seg.path[t])},fsegment:function(t){return void 0===t?this.data.seg.fragment:(t=0>t?this.data.seg.fragment.length+t:t-1,this.data.seg.fragment[t])}}}var s={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},f=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],u={anchor:"fragment"},c={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},h=/^[0-9]+$/;return i.jQuery=function(t){null!=t&&(t.fn.url=function(r){var e,a,n="";return this.length&&(n=t(this).attr((e=this[0],void 0!==(a=e.tagName)?s[a.toLowerCase()]:a))||""),i(n,r)},t.url=i)},i.jQuery(window.jQuery),i}));